{
  "hash": "965519b96191390402f0fc100c902dd9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Dygraphs\"\ndate: \"3 September 2019\"\ndate-modified: \"10 July 2024\"\ncategories:\n  - dygraphs\n  - dplyr\n  - base R\nauthor: Zoë Turner\nsubtitle: >\n  \"Interactive charts for mortality surveillance\"\n---\n\nI recently presented some of the mortality surveillance charts we use to @RLadiesLondon (a very welcoming group!) and one that got some interest was a chart of Nottinghamshire Healthcare NHS Foundation Trust deaths compared to ONS Provisionally Registered deaths. The chart looks good because it's interactive but this type of chart can be confusing because of the 2 y axes.\n\nWhen I show this report I make it clear that the two axes units are very different and that its purpose is to show that the pattern of the deaths in the wider population matches that of the deaths recorded by the Trust. It's well known within Public Health that the pattern of deaths is seasonal, with a peak around January in the UK. However, this Public Health knowledge is not necessarily common knowledge in Secondary Care Trusts and it was one of the great benefits of having @IantheBee both create and present this report.\n\n# Getting ONS Provisional Data\n\nI wrote about getting and formatting the spreadsheets from ONS for the East Midlands Provisionally Registered deaths:\n\n<https://nhsrcommunity.com/blog/format-ons-spreadsheet/>\n\nbut for the purposes of the mortality surveillance report I've used several years data and I normally keep the spreadsheets, save the merged data and then load that each time I need to run the R markdown report.\n\nFor the purposes of this blog I've amended the formatting code by adding functions so each year can be transformed and is available to plot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(janitor)\nlibrary(readxl)\nlibrary(tidyverse)\n\n# Download ONS spreadsheets Function-----------------------------------------------\n\nGetData_function <- function(www, file) {\n  download.file(www,\n    destfile = file,\n    method = \"wininet\", # use \"curl\" for OS X / Linux, \"wininet\" for Windows\n    mode = \"wb\"\n  ) # wb means \"write binary\" }\n}\n\n# 2019\nGetData_function(\n  \"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales/2019/publishedweek282019.xls\",\n  \"DeathsDownload2019.xls\"\n)\n\n# 2018\nGetData_function(\n  \"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales/2018/publishedweek522018withupdatedrespiratoryrow.xls\",\n  \"DeathsDownload2018.xls\"\n)\n\n# 2017\nGetData_function(\n  \"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales/2017/publishedweek522017.xls\",\n  \"DeathsDownload2017.xls\"\n)\n\n# 2016\nGetData_function(\n  \"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales/2016/publishedweek522016.xls\",\n  \"DeathsDownload2016.xls\"\n)\n\n# Import correct sheets ---------------------------------------------------\nDeaths_Now <- read_excel(\"DeathsDownload2019.xls \",\n  sheet = 4,\n  skip = 2\n)\nDeaths_2018 <- read_excel(\"DeathsDownload2018.xls \",\n  sheet = 4,\n  skip = 2\n)\nDeaths_2017 <- read_excel(\"DeathsDownload2017.xls \",\n  sheet = 4,\n  skip = 2\n)\nDeaths_2016 <- read_excel(\"DeathsDownload2016.xls \",\n  sheet = 4,\n  skip = 2\n)\n\n# Look up code to remove excess rows --------------------------------------\nLookupList <- c(\n  \"Week ended\",\n  \"Total deaths, all ages\",\n  \"Total deaths: average of corresponding\",\n  \"E12000004\"\n)\n\n# Function for formatting data --------------------------------------------\nTransform_function <- function(dataframe) {\n  # Format data frames\n  df <- dataframe %>%\n    clean_names() %>%\n    remove_empty(c(\"rows\", \"cols\")) %>%\n    filter(week_number %in% LookupList)\n\n  # Transpose table\n  df <- t(df)\n\n  # Whilst this is a matrix make the top row the header\n  colnames(df) <- df[1, ]\n\n  # Make this object a data.frame\n  df <- as.data.frame(df)\n\n  # Function to find 'not in'\n  \"%!ni%\" <- function(x, y) !(\"%in%\"(x, y))\n\n  # List of things to remove to tidy the data.frame\n  remove <- c(\"E12000004\", \"East Midlands\")\n\n  # remove the rows and ensure dates are in the correct format\n  df <- df %>%\n    filter(E12000004 %!ni% remove) %>%\n    mutate(serialdate = excel_numeric_to_date(as.numeric(as.character(`Week ended`)),\n      date_system = \"modern\"\n    ))\n\n  df$`Week ended` <- as.Date(df$`Week ended`, format = \"%Y-%m-%d\")\n\n  df <- df %>%\n    mutate(date = if_else(is.na(`Week ended`), serialdate, `Week ended`))\n\n  # Final transformation of data\n  df %>%\n    select(`Total deaths, all ages`, date) %>%\n    filter(!is.na(`Total deaths, all ages`)) %>%\n    mutate(`Total deaths, all ages` = as.numeric(as.character(`Total deaths, all ages`))) # To match other data.frames\n}\n\n# Run functions -----------------------------------------------------------\nDeathsNow <- Transform_function(Deaths_Now)\nDeaths2018 <- Transform_function(Deaths_2018)\nDeaths2017 <- Transform_function(Deaths_2017)\nDeaths2016 <- Transform_function(Deaths_2016)\n\n# Merge data -----------------------------------------------------\nDeaths <- bind_rows(\n  DeathsNow,\n  Deaths2018,\n  Deaths2017,\n  Deaths2016\n) %>%\n  mutate(\n    date = as.Date(date),\n    `Total deaths, all ages` = as.numeric(`Total deaths, all ages`)\n  )\n```\n:::\n\n\nThis code may give a few warnings saying that NAs have been introduced by coercion which is because there are many cells in the spreadsheets that have no data in them at all. It's a good thing they have nothing (and effectively NAs) as having 0s could confuse analysis as it isn't clear if the 0 is a real 0 or missing data.\n\nTo suppress warnings in R Markdown add `warning = FALSE` to the header, however, I like to keep the warnings just in case.\n\nIf you want to keep all the data after merging it together use:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(openxlsx) # To write to xls if required.\n\n# Export complete list to excel for future\nwrite.xlsx(Deaths, \"ImportProvisionalDeaths.xlsx\")\n```\n:::\n\n\nIf you've saved the combined file, to call it again in a script use the following code:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\n\nDeaths <- read_excel(\"ImportProvisionalDeaths.xlsx\")\n```\n:::\n\n\n# Dygraph chart\n\nThe following data is randomly generated as an example:\n\n::: aside\nUsing `set.seed()` changes the computer's random number and this might have an affect in other programs or systems. Functions like `withr::with_preserve_seed()` can help with setting it for the code and resetting the seed when finished.\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(dygraphs)\nlibrary(xts)\n\n# Fix the randomly generated numbers set.seed(178)\n\nAlldeaths <- Deaths %>%\n  select(date) %>%\n  mutate(n = rnorm(n(), mean = 150))\n\n# Merge the two data frames together:\n\nONSAlldeaths <- Deaths %>%\n  left_join(Alldeaths, by = \"date\") %>%\n  mutate(ds = as.POSIXct(date)) %>%\n  select(ds, y2 = n, y = `Total deaths, all ages`) %>%\n  arrange(ds)\n```\n:::\n\n\n{dygraphs} require dates to be in a time series format and the package {xts} can convert it:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nONSAlldeaths_series <- xts(ONSAlldeaths, order.by = ONSAlldeaths$ds)\n```\n:::\n\n\nThe date column is no longer needed so can be removed but this needs to be done using `base R` and not {dplyr}:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Remove duplicate date column ONSAlldeaths_series <-\nONSAlldeaths_series[, -1]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                 y2     y\n2016-01-08 149.8720 13045\n2016-01-15 149.8883 11501\n2016-01-22 149.8568 11473\n2016-01-29 151.4292 11317\n2016-02-05 150.0193 11052\n2016-02-12 149.6231 11170\n2016-02-19 150.7557 10590\n2016-02-26 149.6230 11056\n2016-03-04 150.9004 11285\n2016-03-11 150.9368 11010\n       ...               \n2019-05-10 150.3396  9055\n2019-05-17 148.2407 10272\n2019-05-24 149.2737 10284\n2019-05-31 149.0598  8260\n2019-06-07 149.9367 10140\n2019-06-14 151.5180  9445\n2019-06-21 149.7602  9458\n2019-06-28 148.9243  9511\n2019-07-05 152.8544  9062\n2019-07-12 149.5628  9179\n```\n\n\n:::\n:::\n\n\nFinally, the {xts} can be plotted:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndygraph(ONSAlldeaths_series, main = \"East Midlands Weekly Deaths/Randomly generated numbers\") %>%\n  dySeries(\"y\", axis = \"y\", label = \"East Midlands\") %>%\n  dySeries(\"y2\", axis = \"y2\", label = \"Random numbers\") %>%\n  dyAxis(\"x\", drawGrid = FALSE) %>%\n  dyAxis(\"y\", drawGrid = FALSE, label = \"East Midlands\") %>%\n  dyAxis(\"y2\", independentTicks = TRUE, drawGrid = FALSE, label = \"Random numbers\") %>%\n  dyOptions(stepPlot = TRUE) %>%\n  dyRangeSelector()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item\" id=\"htmlwidget-ff62e5b23bbb13f112f9\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-ff62e5b23bbb13f112f9\">{\"x\":{\"attrs\":{\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawGrid\":false,\"drawAxis\":true},\"y\":{\"drawGrid\":false,\"drawAxis\":true},\"y2\":{\"drawGrid\":false,\"independentTicks\":true}},\"series\":{\"East Midlands\":{\"axis\":\"y\"},\"Random numbers\":{\"axis\":\"y2\"}},\"title\":\"East Midlands Weekly Deaths/Randomly generated numbers\",\"labels\":[\"week\",\"ds\",\"East Midlands\",\"Random numbers\"],\"legend\":\"auto\",\"retainDateWindow\":false,\"ylabel\":\"East Midlands\",\"y2label\":\"Random numbers\",\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":true,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\"},\"scale\":\"weekly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2016-01-08T00:00:00.000Z\",\"2016-01-15T00:00:00.000Z\",\"2016-01-22T00:00:00.000Z\",\"2016-01-29T00:00:00.000Z\",\"2016-02-05T00:00:00.000Z\",\"2016-02-12T00:00:00.000Z\",\"2016-02-19T00:00:00.000Z\",\"2016-02-26T00:00:00.000Z\",\"2016-03-04T00:00:00.000Z\",\"2016-03-11T00:00:00.000Z\",\"2016-03-18T00:00:00.000Z\",\"2016-03-25T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-04-08T00:00:00.000Z\",\"2016-04-15T00:00:00.000Z\",\"2016-04-22T00:00:00.000Z\",\"2016-04-29T00:00:00.000Z\",\"2016-05-06T00:00:00.000Z\",\"2016-05-13T00:00:00.000Z\",\"2016-05-20T00:00:00.000Z\",\"2016-05-27T00:00:00.000Z\",\"2016-06-03T00:00:00.000Z\",\"2016-06-10T00:00:00.000Z\",\"2016-06-17T00:00:00.000Z\",\"2016-06-24T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-07-08T00:00:00.000Z\",\"2016-07-15T00:00:00.000Z\",\"2016-07-22T00:00:00.000Z\",\"2016-07-29T00:00:00.000Z\",\"2016-08-05T00:00:00.000Z\",\"2016-08-12T00:00:00.000Z\",\"2016-08-19T00:00:00.000Z\",\"2016-08-26T00:00:00.000Z\",\"2016-09-02T00:00:00.000Z\",\"2016-09-09T00:00:00.000Z\",\"2016-09-16T00:00:00.000Z\",\"2016-09-23T00:00:00.000Z\",\"2016-09-30T00:00:00.000Z\",\"2016-10-07T00:00:00.000Z\",\"2016-10-14T00:00:00.000Z\",\"2016-10-21T00:00:00.000Z\",\"2016-10-28T00:00:00.000Z\",\"2016-11-04T00:00:00.000Z\",\"2016-11-11T00:00:00.000Z\",\"2016-11-18T00:00:00.000Z\",\"2016-11-25T00:00:00.000Z\",\"2016-12-02T00:00:00.000Z\",\"2016-12-09T00:00:00.000Z\",\"2016-12-16T00:00:00.000Z\",\"2016-12-23T00:00:00.000Z\",\"2016-12-30T00:00:00.000Z\",\"2017-01-06T00:00:00.000Z\",\"2017-01-13T00:00:00.000Z\",\"2017-01-20T00:00:00.000Z\",\"2017-01-27T00:00:00.000Z\",\"2017-02-03T00:00:00.000Z\",\"2017-02-10T00:00:00.000Z\",\"2017-02-17T00:00:00.000Z\",\"2017-02-24T00:00:00.000Z\",\"2017-03-03T00:00:00.000Z\",\"2017-03-10T00:00:00.000Z\",\"2017-03-17T00:00:00.000Z\",\"2017-03-24T00:00:00.000Z\",\"2017-03-31T00:00:00.000Z\",\"2017-04-07T00:00:00.000Z\",\"2017-04-14T00:00:00.000Z\",\"2017-04-21T00:00:00.000Z\",\"2017-04-28T00:00:00.000Z\",\"2017-05-05T00:00:00.000Z\",\"2017-05-12T00:00:00.000Z\",\"2017-05-19T00:00:00.000Z\",\"2017-05-26T00:00:00.000Z\",\"2017-06-02T00:00:00.000Z\",\"2017-06-09T00:00:00.000Z\",\"2017-06-16T00:00:00.000Z\",\"2017-06-23T00:00:00.000Z\",\"2017-06-30T00:00:00.000Z\",\"2017-07-07T00:00:00.000Z\",\"2017-07-14T00:00:00.000Z\",\"2017-07-21T00:00:00.000Z\",\"2017-07-28T00:00:00.000Z\",\"2017-08-04T00:00:00.000Z\",\"2017-08-11T00:00:00.000Z\",\"2017-08-18T00:00:00.000Z\",\"2017-08-25T00:00:00.000Z\",\"2017-09-01T00:00:00.000Z\",\"2017-09-08T00:00:00.000Z\",\"2017-09-15T00:00:00.000Z\",\"2017-09-22T00:00:00.000Z\",\"2017-09-29T00:00:00.000Z\",\"2017-10-06T00:00:00.000Z\",\"2017-10-13T00:00:00.000Z\",\"2017-10-20T00:00:00.000Z\",\"2017-10-27T00:00:00.000Z\",\"2017-11-03T00:00:00.000Z\",\"2017-11-10T00:00:00.000Z\",\"2017-11-17T00:00:00.000Z\",\"2017-11-24T00:00:00.000Z\",\"2017-12-01T00:00:00.000Z\",\"2017-12-08T00:00:00.000Z\",\"2017-12-15T00:00:00.000Z\",\"2017-12-22T00:00:00.000Z\",\"2017-12-29T00:00:00.000Z\",\"2018-01-05T00:00:00.000Z\",\"2018-01-12T00:00:00.000Z\",\"2018-01-19T00:00:00.000Z\",\"2018-01-26T00:00:00.000Z\",\"2018-02-02T00:00:00.000Z\",\"2018-02-09T00:00:00.000Z\",\"2018-02-16T00:00:00.000Z\",\"2018-02-23T00:00:00.000Z\",\"2018-03-02T00:00:00.000Z\",\"2018-03-09T00:00:00.000Z\",\"2018-03-16T00:00:00.000Z\",\"2018-03-23T00:00:00.000Z\",\"2018-03-30T00:00:00.000Z\",\"2018-04-06T00:00:00.000Z\",\"2018-04-13T00:00:00.000Z\",\"2018-04-20T00:00:00.000Z\",\"2018-04-27T00:00:00.000Z\",\"2018-05-04T00:00:00.000Z\",\"2018-05-11T00:00:00.000Z\",\"2018-05-18T00:00:00.000Z\",\"2018-05-25T00:00:00.000Z\",\"2018-06-01T00:00:00.000Z\",\"2018-06-08T00:00:00.000Z\",\"2018-06-15T00:00:00.000Z\",\"2018-06-22T00:00:00.000Z\",\"2018-06-29T00:00:00.000Z\",\"2018-07-06T00:00:00.000Z\",\"2018-07-13T00:00:00.000Z\",\"2018-07-20T00:00:00.000Z\",\"2018-07-27T00:00:00.000Z\",\"2018-08-03T00:00:00.000Z\",\"2018-08-10T00:00:00.000Z\",\"2018-08-17T00:00:00.000Z\",\"2018-08-24T00:00:00.000Z\",\"2018-08-31T00:00:00.000Z\",\"2018-09-07T00:00:00.000Z\",\"2018-09-14T00:00:00.000Z\",\"2018-09-21T00:00:00.000Z\",\"2018-09-28T00:00:00.000Z\",\"2018-10-05T00:00:00.000Z\",\"2018-10-12T00:00:00.000Z\",\"2018-10-19T00:00:00.000Z\",\"2018-10-26T00:00:00.000Z\",\"2018-11-02T00:00:00.000Z\",\"2018-11-09T00:00:00.000Z\",\"2018-11-16T00:00:00.000Z\",\"2018-11-23T00:00:00.000Z\",\"2018-11-30T00:00:00.000Z\",\"2018-12-07T00:00:00.000Z\",\"2018-12-14T00:00:00.000Z\",\"2018-12-21T00:00:00.000Z\",\"2018-12-28T00:00:00.000Z\",\"2019-01-04T00:00:00.000Z\",\"2019-01-11T00:00:00.000Z\",\"2019-01-18T00:00:00.000Z\",\"2019-01-25T00:00:00.000Z\",\"2019-02-01T00:00:00.000Z\",\"2019-02-08T00:00:00.000Z\",\"2019-02-15T00:00:00.000Z\",\"2019-02-22T00:00:00.000Z\",\"2019-03-01T00:00:00.000Z\",\"2019-03-08T00:00:00.000Z\",\"2019-03-15T00:00:00.000Z\",\"2019-03-22T00:00:00.000Z\",\"2019-03-29T00:00:00.000Z\",\"2019-04-05T00:00:00.000Z\",\"2019-04-12T00:00:00.000Z\",\"2019-04-19T00:00:00.000Z\",\"2019-04-26T00:00:00.000Z\",\"2019-05-03T00:00:00.000Z\",\"2019-05-10T00:00:00.000Z\",\"2019-05-17T00:00:00.000Z\",\"2019-05-24T00:00:00.000Z\",\"2019-05-31T00:00:00.000Z\",\"2019-06-07T00:00:00.000Z\",\"2019-06-14T00:00:00.000Z\",\"2019-06-21T00:00:00.000Z\",\"2019-06-28T00:00:00.000Z\",\"2019-07-05T00:00:00.000Z\",\"2019-07-12T00:00:00.000Z\"],[\"2016-01-08\",\"2016-01-15\",\"2016-01-22\",\"2016-01-29\",\"2016-02-05\",\"2016-02-12\",\"2016-02-19\",\"2016-02-26\",\"2016-03-04\",\"2016-03-11\",\"2016-03-18\",\"2016-03-25\",\"2016-04-01\",\"2016-04-08\",\"2016-04-15\",\"2016-04-22\",\"2016-04-29\",\"2016-05-06\",\"2016-05-13\",\"2016-05-20\",\"2016-05-27\",\"2016-06-03\",\"2016-06-10\",\"2016-06-17\",\"2016-06-24\",\"2016-07-01\",\"2016-07-08\",\"2016-07-15\",\"2016-07-22\",\"2016-07-29\",\"2016-08-05\",\"2016-08-12\",\"2016-08-19\",\"2016-08-26\",\"2016-09-02\",\"2016-09-09\",\"2016-09-16\",\"2016-09-23\",\"2016-09-30\",\"2016-10-07\",\"2016-10-14\",\"2016-10-21\",\"2016-10-28\",\"2016-11-04\",\"2016-11-11\",\"2016-11-18\",\"2016-11-25\",\"2016-12-02\",\"2016-12-09\",\"2016-12-16\",\"2016-12-23\",\"2016-12-30\",\"2017-01-06\",\"2017-01-13\",\"2017-01-20\",\"2017-01-27\",\"2017-02-03\",\"2017-02-10\",\"2017-02-17\",\"2017-02-24\",\"2017-03-03\",\"2017-03-10\",\"2017-03-17\",\"2017-03-24\",\"2017-03-31\",\"2017-04-07\",\"2017-04-14\",\"2017-04-21\",\"2017-04-28\",\"2017-05-05\",\"2017-05-12\",\"2017-05-19\",\"2017-05-26\",\"2017-06-02\",\"2017-06-09\",\"2017-06-16\",\"2017-06-23\",\"2017-06-30\",\"2017-07-07\",\"2017-07-14\",\"2017-07-21\",\"2017-07-28\",\"2017-08-04\",\"2017-08-11\",\"2017-08-18\",\"2017-08-25\",\"2017-09-01\",\"2017-09-08\",\"2017-09-15\",\"2017-09-22\",\"2017-09-29\",\"2017-10-06\",\"2017-10-13\",\"2017-10-20\",\"2017-10-27\",\"2017-11-03\",\"2017-11-10\",\"2017-11-17\",\"2017-11-24\",\"2017-12-01\",\"2017-12-08\",\"2017-12-15\",\"2017-12-22\",\"2017-12-29\",\"2018-01-05\",\"2018-01-12\",\"2018-01-19\",\"2018-01-26\",\"2018-02-02\",\"2018-02-09\",\"2018-02-16\",\"2018-02-23\",\"2018-03-02\",\"2018-03-09\",\"2018-03-16\",\"2018-03-23\",\"2018-03-30\",\"2018-04-06\",\"2018-04-13\",\"2018-04-20\",\"2018-04-27\",\"2018-05-04\",\"2018-05-11\",\"2018-05-18\",\"2018-05-25\",\"2018-06-01\",\"2018-06-08\",\"2018-06-15\",\"2018-06-22\",\"2018-06-29\",\"2018-07-06\",\"2018-07-13\",\"2018-07-20\",\"2018-07-27\",\"2018-08-03\",\"2018-08-10\",\"2018-08-17\",\"2018-08-24\",\"2018-08-31\",\"2018-09-07\",\"2018-09-14\",\"2018-09-21\",\"2018-09-28\",\"2018-10-05\",\"2018-10-12\",\"2018-10-19\",\"2018-10-26\",\"2018-11-02\",\"2018-11-09\",\"2018-11-16\",\"2018-11-23\",\"2018-11-30\",\"2018-12-07\",\"2018-12-14\",\"2018-12-21\",\"2018-12-28\",\"2019-01-04\",\"2019-01-11\",\"2019-01-18\",\"2019-01-25\",\"2019-02-01\",\"2019-02-08\",\"2019-02-15\",\"2019-02-22\",\"2019-03-01\",\"2019-03-08\",\"2019-03-15\",\"2019-03-22\",\"2019-03-29\",\"2019-04-05\",\"2019-04-12\",\"2019-04-19\",\"2019-04-26\",\"2019-05-03\",\"2019-05-10\",\"2019-05-17\",\"2019-05-24\",\"2019-05-31\",\"2019-06-07\",\"2019-06-14\",\"2019-06-21\",\"2019-06-28\",\"2019-07-05\",\"2019-07-12\"],[\"13045\",\"11501\",\"11473\",\"11317\",\"11052\",\"11170\",\"10590\",\"11056\",\"11285\",\"11010\",\"11022\",\" 9635\",\"10286\",\"11599\",\"11417\",\"10925\",\"10413\",\" 9137\",\"10637\",\" 9953\",\" 9739\",\" 7909\",\" 9873\",\" 9386\",\" 9365\",\" 9228\",\" 9138\",\" 9388\",\" 9350\",\" 9335\",\" 9182\",\" 9172\",\" 9070\",\" 9319\",\" 7923\",\" 9399\",\" 9124\",\" 8945\",\" 8994\",\" 9291\",\" 9719\",\" 9768\",\" 9724\",\"10152\",\"10470\",\"10694\",\"10603\",\"10439\",\"11223\",\"10533\",\"11493\",\" 8003\",\"11991\",\"13715\",\"13610\",\"12877\",\"12485\",\"12269\",\"11644\",\"11794\",\"11248\",\"11077\",\"10697\",\"10325\",\"10027\",\" 9939\",\" 8493\",\" 9644\",\"10908\",\" 9064\",\"10693\",\"10288\",\"10040\",\" 8332\",\" 9766\",\" 9367\",\" 9627\",\" 9334\",\" 9263\",\" 9376\",\" 9113\",\" 8882\",\" 8941\",\" 9038\",\" 9299\",\" 9382\",\" 8149\",\" 9497\",\" 9454\",\" 9534\",\" 9689\",\" 9778\",\" 9940\",\"10031\",\" 9739\",\" 9984\",\"10346\",\"10275\",\"10621\",\"10538\",\"10781\",\"11217\",\"12517\",\" 8487\",\"12723\",\"15050\",\"14256\",\"13935\",\"13285\",\"12495\",\"12246\",\"12142\",\"10854\",\"12997\",\"12788\",\"11913\",\" 9941\",\"10794\",\"12301\",\"11223\",\"10306\",\"10153\",\" 8624\",\"10141\",\" 9636\",\" 8147\",\" 9950\",\" 9343\",\" 9256\",\" 9212\",\" 9258\",\" 9293\",\" 9127\",\" 9141\",\" 9161\",\" 9319\",\" 8830\",\" 8978\",\" 7865\",\" 9445\",\" 9191\",\" 9305\",\" 9150\",\" 9503\",\" 9649\",\" 9864\",\" 9603\",\" 9529\",\"10151\",\"10193\",\" 9957\",\"10033\",\"10287\",\"10550\",\"11116\",\" 7131\",\"10955\",\"12609\",\"11860\",\"11740\",\"11297\",\"11660\",\"11824\",\"11295\",\"11044\",\"10898\",\"10567\",\"10402\",\" 9867\",\"10126\",\"10291\",\" 9025\",\"10059\",\"11207\",\" 9055\",\"10272\",\"10284\",\" 8260\",\"10140\",\" 9445\",\" 9458\",\" 9511\",\" 9062\",\" 9179\"],[\"149.8720\",\"149.8883\",\"149.8568\",\"151.4292\",\"150.0193\",\"149.6231\",\"150.7557\",\"149.6230\",\"150.9004\",\"150.9368\",\"150.6170\",\"150.0988\",\"150.6797\",\"150.6462\",\"147.8572\",\"152.2546\",\"149.8892\",\"149.7056\",\"149.4734\",\"150.4154\",\"150.2240\",\"149.2089\",\"148.4788\",\"150.3314\",\"149.5693\",\"149.7354\",\"149.2768\",\"149.4483\",\"150.4379\",\"150.6595\",\"150.7171\",\"149.6038\",\"150.4036\",\"148.1837\",\"150.6082\",\"147.1880\",\"150.3164\",\"150.6979\",\"150.3868\",\"150.6334\",\"149.6540\",\"150.0223\",\"148.7053\",\"150.9966\",\"150.6428\",\"150.0105\",\"148.5529\",\"149.0501\",\"149.0456\",\"150.4275\",\"148.4176\",\"149.4535\",\"150.2806\",\"150.2012\",\"150.8605\",\"151.6756\",\"148.6720\",\"149.9537\",\"150.9202\",\"150.5046\",\"148.5321\",\"149.9957\",\"151.0834\",\"151.9813\",\"150.1079\",\"149.8213\",\"149.9679\",\"150.1160\",\"149.1459\",\"151.4487\",\"151.2383\",\"151.2509\",\"149.7156\",\"149.2881\",\"149.9867\",\"149.4205\",\"149.6816\",\"150.4373\",\"150.0002\",\"149.1225\",\"151.0720\",\"149.9228\",\"149.5182\",\"149.4006\",\"150.1044\",\"151.4615\",\"148.5892\",\"151.1470\",\"150.0104\",\"151.0877\",\"150.0446\",\"149.6297\",\"151.1086\",\"149.2978\",\"148.8498\",\"149.1204\",\"150.1795\",\"150.8853\",\"150.2826\",\"149.7863\",\"150.0874\",\"148.4288\",\"150.1482\",\"150.1860\",\"148.8087\",\"150.4319\",\"149.1593\",\"150.1394\",\"150.7712\",\"150.3593\",\"149.8468\",\"150.4845\",\"150.0817\",\"150.7866\",\"150.7951\",\"151.4495\",\"151.0035\",\"148.8928\",\"151.3985\",\"151.0238\",\"149.8409\",\"151.0052\",\"151.5582\",\"149.8922\",\"151.1578\",\"149.3090\",\"150.1440\",\"149.0935\",\"149.6660\",\"150.1647\",\"147.0943\",\"149.1078\",\"152.2022\",\"150.1874\",\"150.4728\",\"149.1520\",\"151.5888\",\"149.5579\",\"149.0153\",\"150.9575\",\"150.8516\",\"149.9370\",\"149.0306\",\"151.0483\",\"149.5312\",\"151.7878\",\"149.4295\",\"151.1639\",\"151.2203\",\"150.7979\",\"150.2585\",\"150.2446\",\"150.3007\",\"150.5800\",\"148.4684\",\"151.5903\",\"152.0251\",\"150.0190\",\"150.0573\",\"150.1175\",\"149.6025\",\"151.3140\",\"149.4342\",\"151.2513\",\"149.7715\",\"150.6949\",\"149.5970\",\"151.0055\",\"150.3824\",\"151.0500\",\"148.6578\",\"150.8980\",\"150.2552\",\"150.9773\",\"150.3396\",\"148.2407\",\"149.2737\",\"149.0598\",\"149.9367\",\"151.5180\",\"149.7602\",\"148.9243\",\"152.8544\",\"149.5628\"]],\"fixedtz\":false,\"tzone\":\"UTC\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nWhen you've plotted the chart if you wave the cursor over the points you will see information about those points, you are also able to zoom in by using the scrolling bar at the bottom of the chart (this was from the `dyRangeSelector()` code.\n\nOther options are detailed here: <https://rstudio.github.io/dygraphs/index.html>\n\n# ONS Provisional data\n\nOne of the things that may stand out in the chart for the are the big dips around 29-31 December time each year and we presume that these relate to the week where Registrations may be delayed from GP practices to ONS because of the public holidays around Christmas.\n\nUnfortunately, only provisionally recorded deaths are available by week as confirmed are monthly: <https://www.ons.gov.uk/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/monthlyfiguresondeathsregisteredbyareaofusualresidence>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndygraph(ONSAlldeaths_series, main = \"East Midlands Weekly Deaths\") %>%\n  dyAxis(\"y\", independentTicks = TRUE, drawGrid = FALSE, label = \"East Midlands\") %>%\n  dyAxis(\"x\", drawGrid = FALSE) %>%\n  dyOptions(stepPlot = TRUE) %>%\n  dyRangeSelector()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item\" id=\"htmlwidget-37c277675a6b0aff9aba\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-37c277675a6b0aff9aba\">{\"x\":{\"attrs\":{\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawGrid\":false,\"drawAxis\":true},\"y\":{\"drawGrid\":false,\"independentTicks\":true,\"drawAxis\":true}},\"title\":\"East Midlands Weekly Deaths\",\"labels\":[\"week\",\"ds\",\"y2\",\"y\"],\"legend\":\"auto\",\"retainDateWindow\":false,\"ylabel\":\"East Midlands\",\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":true,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\"},\"scale\":\"weekly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2016-01-08T00:00:00.000Z\",\"2016-01-15T00:00:00.000Z\",\"2016-01-22T00:00:00.000Z\",\"2016-01-29T00:00:00.000Z\",\"2016-02-05T00:00:00.000Z\",\"2016-02-12T00:00:00.000Z\",\"2016-02-19T00:00:00.000Z\",\"2016-02-26T00:00:00.000Z\",\"2016-03-04T00:00:00.000Z\",\"2016-03-11T00:00:00.000Z\",\"2016-03-18T00:00:00.000Z\",\"2016-03-25T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-04-08T00:00:00.000Z\",\"2016-04-15T00:00:00.000Z\",\"2016-04-22T00:00:00.000Z\",\"2016-04-29T00:00:00.000Z\",\"2016-05-06T00:00:00.000Z\",\"2016-05-13T00:00:00.000Z\",\"2016-05-20T00:00:00.000Z\",\"2016-05-27T00:00:00.000Z\",\"2016-06-03T00:00:00.000Z\",\"2016-06-10T00:00:00.000Z\",\"2016-06-17T00:00:00.000Z\",\"2016-06-24T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-07-08T00:00:00.000Z\",\"2016-07-15T00:00:00.000Z\",\"2016-07-22T00:00:00.000Z\",\"2016-07-29T00:00:00.000Z\",\"2016-08-05T00:00:00.000Z\",\"2016-08-12T00:00:00.000Z\",\"2016-08-19T00:00:00.000Z\",\"2016-08-26T00:00:00.000Z\",\"2016-09-02T00:00:00.000Z\",\"2016-09-09T00:00:00.000Z\",\"2016-09-16T00:00:00.000Z\",\"2016-09-23T00:00:00.000Z\",\"2016-09-30T00:00:00.000Z\",\"2016-10-07T00:00:00.000Z\",\"2016-10-14T00:00:00.000Z\",\"2016-10-21T00:00:00.000Z\",\"2016-10-28T00:00:00.000Z\",\"2016-11-04T00:00:00.000Z\",\"2016-11-11T00:00:00.000Z\",\"2016-11-18T00:00:00.000Z\",\"2016-11-25T00:00:00.000Z\",\"2016-12-02T00:00:00.000Z\",\"2016-12-09T00:00:00.000Z\",\"2016-12-16T00:00:00.000Z\",\"2016-12-23T00:00:00.000Z\",\"2016-12-30T00:00:00.000Z\",\"2017-01-06T00:00:00.000Z\",\"2017-01-13T00:00:00.000Z\",\"2017-01-20T00:00:00.000Z\",\"2017-01-27T00:00:00.000Z\",\"2017-02-03T00:00:00.000Z\",\"2017-02-10T00:00:00.000Z\",\"2017-02-17T00:00:00.000Z\",\"2017-02-24T00:00:00.000Z\",\"2017-03-03T00:00:00.000Z\",\"2017-03-10T00:00:00.000Z\",\"2017-03-17T00:00:00.000Z\",\"2017-03-24T00:00:00.000Z\",\"2017-03-31T00:00:00.000Z\",\"2017-04-07T00:00:00.000Z\",\"2017-04-14T00:00:00.000Z\",\"2017-04-21T00:00:00.000Z\",\"2017-04-28T00:00:00.000Z\",\"2017-05-05T00:00:00.000Z\",\"2017-05-12T00:00:00.000Z\",\"2017-05-19T00:00:00.000Z\",\"2017-05-26T00:00:00.000Z\",\"2017-06-02T00:00:00.000Z\",\"2017-06-09T00:00:00.000Z\",\"2017-06-16T00:00:00.000Z\",\"2017-06-23T00:00:00.000Z\",\"2017-06-30T00:00:00.000Z\",\"2017-07-07T00:00:00.000Z\",\"2017-07-14T00:00:00.000Z\",\"2017-07-21T00:00:00.000Z\",\"2017-07-28T00:00:00.000Z\",\"2017-08-04T00:00:00.000Z\",\"2017-08-11T00:00:00.000Z\",\"2017-08-18T00:00:00.000Z\",\"2017-08-25T00:00:00.000Z\",\"2017-09-01T00:00:00.000Z\",\"2017-09-08T00:00:00.000Z\",\"2017-09-15T00:00:00.000Z\",\"2017-09-22T00:00:00.000Z\",\"2017-09-29T00:00:00.000Z\",\"2017-10-06T00:00:00.000Z\",\"2017-10-13T00:00:00.000Z\",\"2017-10-20T00:00:00.000Z\",\"2017-10-27T00:00:00.000Z\",\"2017-11-03T00:00:00.000Z\",\"2017-11-10T00:00:00.000Z\",\"2017-11-17T00:00:00.000Z\",\"2017-11-24T00:00:00.000Z\",\"2017-12-01T00:00:00.000Z\",\"2017-12-08T00:00:00.000Z\",\"2017-12-15T00:00:00.000Z\",\"2017-12-22T00:00:00.000Z\",\"2017-12-29T00:00:00.000Z\",\"2018-01-05T00:00:00.000Z\",\"2018-01-12T00:00:00.000Z\",\"2018-01-19T00:00:00.000Z\",\"2018-01-26T00:00:00.000Z\",\"2018-02-02T00:00:00.000Z\",\"2018-02-09T00:00:00.000Z\",\"2018-02-16T00:00:00.000Z\",\"2018-02-23T00:00:00.000Z\",\"2018-03-02T00:00:00.000Z\",\"2018-03-09T00:00:00.000Z\",\"2018-03-16T00:00:00.000Z\",\"2018-03-23T00:00:00.000Z\",\"2018-03-30T00:00:00.000Z\",\"2018-04-06T00:00:00.000Z\",\"2018-04-13T00:00:00.000Z\",\"2018-04-20T00:00:00.000Z\",\"2018-04-27T00:00:00.000Z\",\"2018-05-04T00:00:00.000Z\",\"2018-05-11T00:00:00.000Z\",\"2018-05-18T00:00:00.000Z\",\"2018-05-25T00:00:00.000Z\",\"2018-06-01T00:00:00.000Z\",\"2018-06-08T00:00:00.000Z\",\"2018-06-15T00:00:00.000Z\",\"2018-06-22T00:00:00.000Z\",\"2018-06-29T00:00:00.000Z\",\"2018-07-06T00:00:00.000Z\",\"2018-07-13T00:00:00.000Z\",\"2018-07-20T00:00:00.000Z\",\"2018-07-27T00:00:00.000Z\",\"2018-08-03T00:00:00.000Z\",\"2018-08-10T00:00:00.000Z\",\"2018-08-17T00:00:00.000Z\",\"2018-08-24T00:00:00.000Z\",\"2018-08-31T00:00:00.000Z\",\"2018-09-07T00:00:00.000Z\",\"2018-09-14T00:00:00.000Z\",\"2018-09-21T00:00:00.000Z\",\"2018-09-28T00:00:00.000Z\",\"2018-10-05T00:00:00.000Z\",\"2018-10-12T00:00:00.000Z\",\"2018-10-19T00:00:00.000Z\",\"2018-10-26T00:00:00.000Z\",\"2018-11-02T00:00:00.000Z\",\"2018-11-09T00:00:00.000Z\",\"2018-11-16T00:00:00.000Z\",\"2018-11-23T00:00:00.000Z\",\"2018-11-30T00:00:00.000Z\",\"2018-12-07T00:00:00.000Z\",\"2018-12-14T00:00:00.000Z\",\"2018-12-21T00:00:00.000Z\",\"2018-12-28T00:00:00.000Z\",\"2019-01-04T00:00:00.000Z\",\"2019-01-11T00:00:00.000Z\",\"2019-01-18T00:00:00.000Z\",\"2019-01-25T00:00:00.000Z\",\"2019-02-01T00:00:00.000Z\",\"2019-02-08T00:00:00.000Z\",\"2019-02-15T00:00:00.000Z\",\"2019-02-22T00:00:00.000Z\",\"2019-03-01T00:00:00.000Z\",\"2019-03-08T00:00:00.000Z\",\"2019-03-15T00:00:00.000Z\",\"2019-03-22T00:00:00.000Z\",\"2019-03-29T00:00:00.000Z\",\"2019-04-05T00:00:00.000Z\",\"2019-04-12T00:00:00.000Z\",\"2019-04-19T00:00:00.000Z\",\"2019-04-26T00:00:00.000Z\",\"2019-05-03T00:00:00.000Z\",\"2019-05-10T00:00:00.000Z\",\"2019-05-17T00:00:00.000Z\",\"2019-05-24T00:00:00.000Z\",\"2019-05-31T00:00:00.000Z\",\"2019-06-07T00:00:00.000Z\",\"2019-06-14T00:00:00.000Z\",\"2019-06-21T00:00:00.000Z\",\"2019-06-28T00:00:00.000Z\",\"2019-07-05T00:00:00.000Z\",\"2019-07-12T00:00:00.000Z\"],[\"2016-01-08\",\"2016-01-15\",\"2016-01-22\",\"2016-01-29\",\"2016-02-05\",\"2016-02-12\",\"2016-02-19\",\"2016-02-26\",\"2016-03-04\",\"2016-03-11\",\"2016-03-18\",\"2016-03-25\",\"2016-04-01\",\"2016-04-08\",\"2016-04-15\",\"2016-04-22\",\"2016-04-29\",\"2016-05-06\",\"2016-05-13\",\"2016-05-20\",\"2016-05-27\",\"2016-06-03\",\"2016-06-10\",\"2016-06-17\",\"2016-06-24\",\"2016-07-01\",\"2016-07-08\",\"2016-07-15\",\"2016-07-22\",\"2016-07-29\",\"2016-08-05\",\"2016-08-12\",\"2016-08-19\",\"2016-08-26\",\"2016-09-02\",\"2016-09-09\",\"2016-09-16\",\"2016-09-23\",\"2016-09-30\",\"2016-10-07\",\"2016-10-14\",\"2016-10-21\",\"2016-10-28\",\"2016-11-04\",\"2016-11-11\",\"2016-11-18\",\"2016-11-25\",\"2016-12-02\",\"2016-12-09\",\"2016-12-16\",\"2016-12-23\",\"2016-12-30\",\"2017-01-06\",\"2017-01-13\",\"2017-01-20\",\"2017-01-27\",\"2017-02-03\",\"2017-02-10\",\"2017-02-17\",\"2017-02-24\",\"2017-03-03\",\"2017-03-10\",\"2017-03-17\",\"2017-03-24\",\"2017-03-31\",\"2017-04-07\",\"2017-04-14\",\"2017-04-21\",\"2017-04-28\",\"2017-05-05\",\"2017-05-12\",\"2017-05-19\",\"2017-05-26\",\"2017-06-02\",\"2017-06-09\",\"2017-06-16\",\"2017-06-23\",\"2017-06-30\",\"2017-07-07\",\"2017-07-14\",\"2017-07-21\",\"2017-07-28\",\"2017-08-04\",\"2017-08-11\",\"2017-08-18\",\"2017-08-25\",\"2017-09-01\",\"2017-09-08\",\"2017-09-15\",\"2017-09-22\",\"2017-09-29\",\"2017-10-06\",\"2017-10-13\",\"2017-10-20\",\"2017-10-27\",\"2017-11-03\",\"2017-11-10\",\"2017-11-17\",\"2017-11-24\",\"2017-12-01\",\"2017-12-08\",\"2017-12-15\",\"2017-12-22\",\"2017-12-29\",\"2018-01-05\",\"2018-01-12\",\"2018-01-19\",\"2018-01-26\",\"2018-02-02\",\"2018-02-09\",\"2018-02-16\",\"2018-02-23\",\"2018-03-02\",\"2018-03-09\",\"2018-03-16\",\"2018-03-23\",\"2018-03-30\",\"2018-04-06\",\"2018-04-13\",\"2018-04-20\",\"2018-04-27\",\"2018-05-04\",\"2018-05-11\",\"2018-05-18\",\"2018-05-25\",\"2018-06-01\",\"2018-06-08\",\"2018-06-15\",\"2018-06-22\",\"2018-06-29\",\"2018-07-06\",\"2018-07-13\",\"2018-07-20\",\"2018-07-27\",\"2018-08-03\",\"2018-08-10\",\"2018-08-17\",\"2018-08-24\",\"2018-08-31\",\"2018-09-07\",\"2018-09-14\",\"2018-09-21\",\"2018-09-28\",\"2018-10-05\",\"2018-10-12\",\"2018-10-19\",\"2018-10-26\",\"2018-11-02\",\"2018-11-09\",\"2018-11-16\",\"2018-11-23\",\"2018-11-30\",\"2018-12-07\",\"2018-12-14\",\"2018-12-21\",\"2018-12-28\",\"2019-01-04\",\"2019-01-11\",\"2019-01-18\",\"2019-01-25\",\"2019-02-01\",\"2019-02-08\",\"2019-02-15\",\"2019-02-22\",\"2019-03-01\",\"2019-03-08\",\"2019-03-15\",\"2019-03-22\",\"2019-03-29\",\"2019-04-05\",\"2019-04-12\",\"2019-04-19\",\"2019-04-26\",\"2019-05-03\",\"2019-05-10\",\"2019-05-17\",\"2019-05-24\",\"2019-05-31\",\"2019-06-07\",\"2019-06-14\",\"2019-06-21\",\"2019-06-28\",\"2019-07-05\",\"2019-07-12\"],[\"149.8720\",\"149.8883\",\"149.8568\",\"151.4292\",\"150.0193\",\"149.6231\",\"150.7557\",\"149.6230\",\"150.9004\",\"150.9368\",\"150.6170\",\"150.0988\",\"150.6797\",\"150.6462\",\"147.8572\",\"152.2546\",\"149.8892\",\"149.7056\",\"149.4734\",\"150.4154\",\"150.2240\",\"149.2089\",\"148.4788\",\"150.3314\",\"149.5693\",\"149.7354\",\"149.2768\",\"149.4483\",\"150.4379\",\"150.6595\",\"150.7171\",\"149.6038\",\"150.4036\",\"148.1837\",\"150.6082\",\"147.1880\",\"150.3164\",\"150.6979\",\"150.3868\",\"150.6334\",\"149.6540\",\"150.0223\",\"148.7053\",\"150.9966\",\"150.6428\",\"150.0105\",\"148.5529\",\"149.0501\",\"149.0456\",\"150.4275\",\"148.4176\",\"149.4535\",\"150.2806\",\"150.2012\",\"150.8605\",\"151.6756\",\"148.6720\",\"149.9537\",\"150.9202\",\"150.5046\",\"148.5321\",\"149.9957\",\"151.0834\",\"151.9813\",\"150.1079\",\"149.8213\",\"149.9679\",\"150.1160\",\"149.1459\",\"151.4487\",\"151.2383\",\"151.2509\",\"149.7156\",\"149.2881\",\"149.9867\",\"149.4205\",\"149.6816\",\"150.4373\",\"150.0002\",\"149.1225\",\"151.0720\",\"149.9228\",\"149.5182\",\"149.4006\",\"150.1044\",\"151.4615\",\"148.5892\",\"151.1470\",\"150.0104\",\"151.0877\",\"150.0446\",\"149.6297\",\"151.1086\",\"149.2978\",\"148.8498\",\"149.1204\",\"150.1795\",\"150.8853\",\"150.2826\",\"149.7863\",\"150.0874\",\"148.4288\",\"150.1482\",\"150.1860\",\"148.8087\",\"150.4319\",\"149.1593\",\"150.1394\",\"150.7712\",\"150.3593\",\"149.8468\",\"150.4845\",\"150.0817\",\"150.7866\",\"150.7951\",\"151.4495\",\"151.0035\",\"148.8928\",\"151.3985\",\"151.0238\",\"149.8409\",\"151.0052\",\"151.5582\",\"149.8922\",\"151.1578\",\"149.3090\",\"150.1440\",\"149.0935\",\"149.6660\",\"150.1647\",\"147.0943\",\"149.1078\",\"152.2022\",\"150.1874\",\"150.4728\",\"149.1520\",\"151.5888\",\"149.5579\",\"149.0153\",\"150.9575\",\"150.8516\",\"149.9370\",\"149.0306\",\"151.0483\",\"149.5312\",\"151.7878\",\"149.4295\",\"151.1639\",\"151.2203\",\"150.7979\",\"150.2585\",\"150.2446\",\"150.3007\",\"150.5800\",\"148.4684\",\"151.5903\",\"152.0251\",\"150.0190\",\"150.0573\",\"150.1175\",\"149.6025\",\"151.3140\",\"149.4342\",\"151.2513\",\"149.7715\",\"150.6949\",\"149.5970\",\"151.0055\",\"150.3824\",\"151.0500\",\"148.6578\",\"150.8980\",\"150.2552\",\"150.9773\",\"150.3396\",\"148.2407\",\"149.2737\",\"149.0598\",\"149.9367\",\"151.5180\",\"149.7602\",\"148.9243\",\"152.8544\",\"149.5628\"],[\"13045\",\"11501\",\"11473\",\"11317\",\"11052\",\"11170\",\"10590\",\"11056\",\"11285\",\"11010\",\"11022\",\" 9635\",\"10286\",\"11599\",\"11417\",\"10925\",\"10413\",\" 9137\",\"10637\",\" 9953\",\" 9739\",\" 7909\",\" 9873\",\" 9386\",\" 9365\",\" 9228\",\" 9138\",\" 9388\",\" 9350\",\" 9335\",\" 9182\",\" 9172\",\" 9070\",\" 9319\",\" 7923\",\" 9399\",\" 9124\",\" 8945\",\" 8994\",\" 9291\",\" 9719\",\" 9768\",\" 9724\",\"10152\",\"10470\",\"10694\",\"10603\",\"10439\",\"11223\",\"10533\",\"11493\",\" 8003\",\"11991\",\"13715\",\"13610\",\"12877\",\"12485\",\"12269\",\"11644\",\"11794\",\"11248\",\"11077\",\"10697\",\"10325\",\"10027\",\" 9939\",\" 8493\",\" 9644\",\"10908\",\" 9064\",\"10693\",\"10288\",\"10040\",\" 8332\",\" 9766\",\" 9367\",\" 9627\",\" 9334\",\" 9263\",\" 9376\",\" 9113\",\" 8882\",\" 8941\",\" 9038\",\" 9299\",\" 9382\",\" 8149\",\" 9497\",\" 9454\",\" 9534\",\" 9689\",\" 9778\",\" 9940\",\"10031\",\" 9739\",\" 9984\",\"10346\",\"10275\",\"10621\",\"10538\",\"10781\",\"11217\",\"12517\",\" 8487\",\"12723\",\"15050\",\"14256\",\"13935\",\"13285\",\"12495\",\"12246\",\"12142\",\"10854\",\"12997\",\"12788\",\"11913\",\" 9941\",\"10794\",\"12301\",\"11223\",\"10306\",\"10153\",\" 8624\",\"10141\",\" 9636\",\" 8147\",\" 9950\",\" 9343\",\" 9256\",\" 9212\",\" 9258\",\" 9293\",\" 9127\",\" 9141\",\" 9161\",\" 9319\",\" 8830\",\" 8978\",\" 7865\",\" 9445\",\" 9191\",\" 9305\",\" 9150\",\" 9503\",\" 9649\",\" 9864\",\" 9603\",\" 9529\",\"10151\",\"10193\",\" 9957\",\"10033\",\"10287\",\"10550\",\"11116\",\" 7131\",\"10955\",\"12609\",\"11860\",\"11740\",\"11297\",\"11660\",\"11824\",\"11295\",\"11044\",\"10898\",\"10567\",\"10402\",\" 9867\",\"10126\",\"10291\",\" 9025\",\"10059\",\"11207\",\" 9055\",\"10272\",\"10284\",\" 8260\",\"10140\",\" 9445\",\" 9458\",\" 9511\",\" 9062\",\" 9179\"]],\"fixedtz\":false,\"tzone\":\"UTC\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n# The case of the mysteriously disappearing interactive graph in R Markdown html output\n\nI'd rendered (knit or run) the html reports with the interactive graphs and it had all worked so I emailed the report to people as promised and then the emails came back: “Some of the graphs are missing, can you resend?”. Perplexed, I opened the saved file from the server and, yes, indeed some of the charts had disappeared! Where there should be lovely interactive charts were vast swathes of blank screen. What had happened? The code ran fine, looked fine and how do you even Google this mystery?\n\nTurns out my default browser, and I suspect it is throughout most of the NHS because lots of NHS systems depend on it, is Microsoft Explorer. Whilst I have the latest version these reports have never opened properly in Explorer.\n\nThe solution: Chrome (or some other browser). I ask people to copy the link from the Explorer web address bar after opening it from the email and simply paste it to Chrome.\n\nThis blog was written by Zoë Turner, Senior Information Analyst at Nottinghamshire Healthcare NHS Trust. \n\nThis blog has been edited for [NHS-R Style](https://nhsrway.nhsrcommunity.com/style-guides.html#referencing-r-packages-and-functions-in-text).\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../site_libs/jquery-1.11.1/jquery.min.js\"></script>\n<link href=\"../site_libs/dygraphs-1.1.1/dygraph.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/dygraphs-1.1.1/dygraph-combined.js\"></script>\n<script src=\"../site_libs/dygraphs-1.1.1/shapes.js\"></script>\n<script src=\"../site_libs/moment-2.8.4/moment.js\"></script>\n<script src=\"../site_libs/moment-timezone-0.2.5/moment-timezone-with-data.js\"></script>\n<script src=\"../site_libs/moment-fquarter-1.0.0/moment-fquarter.min.js\"></script>\n<script src=\"../site_libs/dygraphs-binding-1.1.1.6/dygraphs.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}